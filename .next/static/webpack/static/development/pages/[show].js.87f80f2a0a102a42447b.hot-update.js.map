{"version":3,"file":"static/webpack/static/development/pages/[show].js.87f80f2a0a102a42447b.hot-update.js","sources":["webpack:///./pages/[show].js","webpack:///./src/hooks/useEventListener.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { ShowContext } from '../src/context/ShowContext';\nimport useEventListener from '../src/hooks/useEventListener'\nimport Layout from '../src/components/Layout';\n\nconst Show = () => {\n\tconst router = useRouter();\n\tconst { showId, getId } = useContext(ShowContext);\n\tconst [show, setShow] = useState({});\n\n\n\tconsole.log(getId(router.query.show));\n\n\tconst getShow = async () => {\n\t\tconst id = await getId(router.query.show);\n\t\tconst res = await fetch(`https://api.tvmaze.com/shows/${id}`);\n\t\tconst data = await res.json();\n\t\tsetShow(data);\n\t\treturn show\n\t};\n\tuseEffect(() => {\n\t\tgetShow();\n\t}, [showId]);\n\tconst isImage = show.image\n\t\t? show.image.medium\n\t\t: 'https://static.tvmaze.com/images/no-img/no-img-portrait-text.png';\n\tconst isTime = show.schedule ? show.schedule.time : 'N/A';\n\tconst exists = (con, val) => con && val;\n\treturn (\n\t\t<Layout>\n\t\t\t<button onClick={() => router.back()}>Go Back</button>\n\t\t\t<h1>{show.name}</h1>\n\t\t\t<img src={isImage} alt={show.name} />\n\t\t\t<h4>\n\t\t\t\t<a\n\t\t\t\t\thref={show.officialSite && show.officialSite}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\t{show.officialSite ? 'Watch' : ''}\n\t\t\t\t</a>\n\t\t\t</h4>\n\t\t\t<h4>Air Date: {show.premiered}</h4>\n\t\t\t<h4>Status: {show.status}</h4>\n\t\t\t<div>\n\t\t\t\t<h4>\n\t\t\t\t\tSchedule <hr />\n\t\t\t\t</h4>\n\t\t\t\t<h6>Time - {isTime}</h6>\n\t\t\t\t<h6>\n\t\t\t\t\tDays -{' '}\n\t\t\t\t\t{show.schedule &&\n\t\t\t\t\t\tshow.schedule.days.map(day =>\n\t\t\t\t\t\t\tshow.schedule.days.length - 1 === show.schedule.days.indexOf(day)\n\t\t\t\t\t\t\t\t? day + ''\n\t\t\t\t\t\t\t\t: day + ', '\n\t\t\t\t\t\t)}\n\t\t\t\t</h6>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h4>\n\t\t\t\t\tNetwork <hr />\n\t\t\t\t</h4>\n\t\t\t\t<h6>Company: {show.network && show.network.name}</h6>\n\t\t\t\t<h6>Code: {show.network && show.network.country.code}</h6>\n\t\t\t\t<h6>Country: {show.network && show.network.country.name}</h6>\n\t\t\t\t<h6>Timezone: {show.network && show.network.country.timezone}</h6>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default Show;\n","import { useEffect } from 'react';\n\nfunction useEventListener(eventName, handler, element = window) {\n\t// Create a ref that stores handler\n\tconst savedHandler = useRef();\n\n\t// Update ref.current value if handler changes.\n\t// This allows our effect below to always get latest handler ...\n\t// ... without us needing to pass it in effect deps array ...\n\t// ... and potentially cause effect to re-run every render.\n\tuseEffect(() => {\n\t\tsavedHandler.current = handler;\n\t}, [handler]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\t// Make sure element supports addEventListener\n\t\t\t// On\n\t\t\tconst isSupported = element && element.addEventListener;\n\t\t\tif (!isSupported) return;\n\n\t\t\t// Create event listener that calls handler function stored in ref\n\t\t\tconst eventListener = event => savedHandler.current(event);\n\n\t\t\t// Add event listener\n\t\t\telement.addEventListener(eventName, eventListener);\n\n\t\t\t// Remove event listener on cleanup\n\t\t\treturn () => {\n\t\t\t\telement.removeEventListener(eventName, eventListener);\n\t\t\t};\n\t\t},\n\t\t[eventName, element] // Re-run if eventName or element changes\n\t);\n}\n\nexport default useEventListener;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAjBA;AAoBA;AACA;AACA;;;;A","sourceRoot":""}