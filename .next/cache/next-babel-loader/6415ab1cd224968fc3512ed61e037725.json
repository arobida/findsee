{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nvar _jsxFileName = \"/Users/andrew/Projects/findsee/src/components/Layout.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect, useLayoutEffect, useCallback, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { ShowContext } from '../context/ShowContext';\nimport Headroom from 'react-headroom';\nimport Eye from './Eye';\n\nvar Layout = function Layout(_ref) {\n  var children = _ref.children;\n\n  var _useContext = useContext(ShowContext),\n      shows = _useContext.shows,\n      getShows = _useContext.getShows,\n      query = _useContext.query,\n      getQuery = _useContext.getQuery;\n\n  var router = useRouter();\n  var searchRef = useRef();\n\n  var _useState = useState(null),\n      results = _useState[0],\n      setResults = _useState[1];\n\n  var handler = useLayoutEffect(function () {\n    document.body.addEventListener('keyup');\n    console.log(searchRef);\n    return function () {\n      document.removeEventListener('keyup', handler);\n    };\n  }, []);\n\n  var change = function change(e) {\n    var params = [e.target.value];\n    var esc = encodeURIComponent;\n\n    var encodedQuery = _Object$keys(params).map(function (k) {\n      return esc(k) + esc(params[k]);\n    }).join('&');\n\n    getQuery(encodedQuery);\n    setResults(e.target.value);\n    console.log(query);\n  };\n\n  var toTop = function toTop() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n  };\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    router.replace('/'); // const checkPath = () =>\n    // \tlocation.pathname === '/' ? null : history.goBack();\n\n    getShows();\n    toTop();\n    e.target.reset();\n  };\n\n  return __jsx(StyledLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"home\",\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, __jsx(Eye, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), __jsx(Headroom, {\n    style: {\n      zIndex: '40'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    className: \"search\",\n    type: \"text\",\n    placeholder: \"\\uD83D\\uDD0E Shows Search \\uD83D\\uDD0D\",\n    ref: searchRef,\n    onChange: change,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })), results ? __jsx(\"span\", {\n    className: \"results\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Results for: \", results) : null), __jsx(\"main\", {\n    className: \"routes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, children));\n};\n\nvar StyledLayout = styled.div.withConfig({\n  displayName: \"Layout__StyledLayout\",\n  componentId: \"sc-1faptvp-0\"\n})([\"text-align:center;.loader{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#333;}.loader h2{animation:animate 15s linear infinite;background-image:url('https://i.postimg.cc/3JfYgrnj/water-2.png');background-repeat:repeat-x;color:rgba(255,255,255,0.1);font-size:3em;margin:0;padding:0;text-transform:uppercase;-webkit-background-clip:text;-moz-background-clip:text;background-clip:text;}@keyframes animate{0%{background-position:left 0px top 150px;}40%{background-position:left 600px top -30px;}80%{background-position:left 1400px top -30px;}100%{background-position:left 2000px top 150px;}}.eye{position:fixed;width:3em;top:18px;left:5px;z-index:5;}.search{width:60vw;font-size:1.3em;height:2em;background:#333;color:white;text-align:center;margin-top:1em;margin-bottom:1em;}.search::placeholder{color:#f57f17;}.summary{padding:0 1em 0 1em;text-align:center;font-size:1em;font-weight:500;}.results{background:#333;color:#f57f17;border-radius:1em;padding:8px;font-size:1.2em;}@keyframes App-logo-spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}.showLink{z-index:2;position:absolute;margin-top:265px;margin-left:150px;color:white;}.view{border-radius:0.9em;background:#0091ea;color:white;padding:0.5em;font-size:1em;}.shadow{-webkit-box-shadow:3px 3px 5px 6px #333;-moz-box-shadow:3px 3px 5px 6px #333;box-shadow:3px 3px 5px 2px #333;}\"]);\nexport default Layout;","map":{"version":3,"sources":["/Users/andrew/Projects/findsee/src/components/Layout.js"],"names":["React","useContext","useState","useEffect","useLayoutEffect","useCallback","useRef","useRouter","styled","ShowContext","Headroom","Eye","Layout","children","shows","getShows","query","getQuery","router","searchRef","results","setResults","handler","document","body","addEventListener","console","log","removeEventListener","change","e","params","target","value","esc","encodeURIComponent","encodedQuery","map","k","join","toTop","scrollTop","documentElement","submit","preventDefault","replace","reset","zIndex","StyledLayout","div"],"mappings":"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","sourcesContent":["import React, {\n\tuseContext,\n\tuseState,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseCallback,\n\tuseRef\n} from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { ShowContext } from '../context/ShowContext';\nimport Headroom from 'react-headroom';\nimport Eye from './Eye';\n\nconst Layout = ({ children }) => {\n\tconst { shows, getShows, query, getQuery } = useContext(ShowContext);\n\tconst router = useRouter();\n\tconst searchRef = useRef();\n\tconst [results, setResults] = useState(null);\n\tconst handler =\n\tuseLayoutEffect(() => {\n\t\tdocument.body.addEventListener('keyup', \n\t\t);\n\t\tconsole.log(searchRef);\n\t\treturn ()=>{\n\t\t\tdocument.removeEventListener('keyup', handler)\n\t\t}\n\t}, []);\n\n\tconst change = e => {\n\t\tconst params = [e.target.value];\n\t\tconst esc = encodeURIComponent;\n\t\tconst encodedQuery = Object.keys(params)\n\t\t\t.map(k => esc(k) + esc(params[k]))\n\t\t\t.join('&');\n\t\tgetQuery(encodedQuery);\n\t\tsetResults(e.target.value);\n\t\tconsole.log(query);\n\t};\n\n\tconst toTop = () => {\n\t\tdocument.body.scrollTop = 0;\n\t\tdocument.documentElement.scrollTop = 0;\n\t};\n\tconst submit = e => {\n\t\te.preventDefault();\n\t\trouter.replace('/');\n\t\t// const checkPath = () =>\n\t\t// \tlocation.pathname === '/' ? null : history.goBack();\n\t\tgetShows();\n\t\ttoTop();\n\t\te.target.reset();\n\t};\n\treturn (\n\t\t<StyledLayout>\n\t\t\t<a className=\"home\" href=\"/\">\n\t\t\t\t{/* <img src={eye} alt=\"eyeball\" className=\"eye blink\" /> */}\n\t\t\t\t<Eye />\n\t\t\t</a>\n\t\t\t<Headroom style={{ zIndex: '40' }}>\n\t\t\t\t<form onSubmit={submit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"search\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"🔎 Shows Search 🔍\"\n\t\t\t\t\t\tref={searchRef}\n\t\t\t\t\t\tonChange={change}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t\t{results ? (\n\t\t\t\t\t<span className=\"results\">Results for: {results}</span>\n\t\t\t\t) : null}\n\t\t\t</Headroom>\n\t\t\t<main className=\"routes\">{children}</main>\n\t\t</StyledLayout>\n\t);\n};\n\nconst StyledLayout = styled.div`\n\ttext-align: center;\n\n\t.loader {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\t-webkit-transform: translate(-50%, -50%);\n\t\t-ms-transform: translate(-50%, -50%);\n\t\t-o-transform: translate(-50%, -50%);\n\t\ttransform: translate(-50%, -50%);\n\t\tbackground: #333;\n\t}\n\n\t.loader h2 {\n\t\tanimation: animate 15s linear infinite;\n\t\tbackground-image: url('https://i.postimg.cc/3JfYgrnj/water-2.png');\n\t\tbackground-repeat: repeat-x;\n\t\tcolor: rgba(255, 255, 255, 0.1);\n\t\tfont-size: 3em;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\ttext-transform: uppercase;\n\t\t-webkit-background-clip: text;\n\t\t-moz-background-clip: text;\n\t\tbackground-clip: text;\n\t}\n\n\t@keyframes animate {\n\t\t0% {\n\t\t\tbackground-position: left 0px top 150px;\n\t\t}\n\n\t\t40% {\n\t\t\tbackground-position: left 600px top -30px;\n\t\t}\n\n\t\t80% {\n\t\t\tbackground-position: left 1400px top -30px;\n\t\t}\n\n\t\t100% {\n\t\t\tbackground-position: left 2000px top 150px;\n\t\t}\n\t}\n\n\t.eye {\n\t\tposition: fixed;\n\t\twidth: 3em;\n\t\ttop: 18px;\n\t\tleft: 5px;\n\t\tz-index: 5;\n\t}\n\n\t.search {\n\t\twidth: 60vw;\n\t\tfont-size: 1.3em;\n\t\theight: 2em;\n\t\tbackground: #333;\n\t\tcolor: white;\n\t\ttext-align: center;\n\t\tmargin-top: 1em;\n\t\tmargin-bottom: 1em;\n\t}\n\t.search::placeholder {\n\t\tcolor: #f57f17;\n\t}\n\n\t.summary {\n\t\tpadding: 0 1em 0 1em;\n\t\ttext-align: center;\n\t\tfont-size: 1em;\n\t\tfont-weight: 500;\n\t}\n\n\t.results {\n\t\tbackground: #333;\n\t\tcolor: #f57f17;\n\t\tborder-radius: 1em;\n\t\tpadding: 8px;\n\t\tfont-size: 1.2em;\n\t}\n\n\t@keyframes App-logo-spin {\n\t\tfrom {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t.showLink {\n\t\tz-index: 2;\n\t\tposition: absolute;\n\t\tmargin-top: 265px;\n\t\tmargin-left: 150px;\n\t\tcolor: white;\n\t}\n\n\t.view {\n\t\tborder-radius: 0.9em;\n\t\tbackground: #0091ea;\n\t\tcolor: white;\n\t\tpadding: 0.5em;\n\t\tfont-size: 1em;\n\t}\n\n\t.shadow {\n\t\t-webkit-box-shadow: 3px 3px 5px 6px #333; /*Safari 3-4, iOS 4.0.2 - 4.2, Android 2.3+ */\n\t\t-moz-box-shadow: 3px 3px 5px 6px #333; /*Firefox 3.5 - 3.6 */\n\t\tbox-shadow: 3px 3px 5px 2px #333; /* Opera 10.5, IE 9, Firefox 4+, Chrome 6+, iOS 5 */\n\t}\n`;\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}