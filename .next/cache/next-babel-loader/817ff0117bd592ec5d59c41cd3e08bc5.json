{"ast":null,"code":"import { useEffect, useRef } from 'react';\nconst win = false ? window : null;\n\nfunction useEventListener(eventName, handler, element = win) {\n  // Create a ref that stores handler\n  const savedHandler = useRef(); // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(() => {\n    // Make sure element supports addEventListener\n    // On\n    const isSupported = element && element.addEventListener;\n    if (!isSupported) return; // Create event listener that calls handler function stored in ref\n\n    const eventListener = event => savedHandler.current(event); // Add event listener\n\n\n    element.addEventListener(eventName, eventListener); // Remove event listener on cleanup\n\n    return () => {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element] // Re-run if eventName or element changes\n  );\n}\n\nexport default useEventListener;","map":{"version":3,"sources":["/Users/andrew/Projects/findsee/src/hooks/useEventListener.js"],"names":["useEffect","useRef","win","window","useEventListener","eventName","handler","element","savedHandler","current","isSupported","addEventListener","eventListener","event","removeEventListener"],"mappings":"AAAA,SAASA,SAAT,EAAmBC,MAAnB,QAAiC,OAAjC;AAEA,MAAMC,GAAG,GAAG,QAA8BC,MAA9B,GAAqC,IAAjD;;AAEA,SAASC,gBAAT,CAA0BC,SAA1B,EAAqCC,OAArC,EAA8CC,OAAO,GAAGL,GAAxD,EAA6D;AAC5D;AACA,QAAMM,YAAY,GAAGP,MAAM,EAA3B,CAF4D,CAI5D;AACA;AACA;AACA;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACfQ,IAAAA,YAAY,CAACC,OAAb,GAAuBH,OAAvB;AACA,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;AAIAN,EAAAA,SAAS,CACR,MAAM;AACL;AACA;AACA,UAAMU,WAAW,GAAGH,OAAO,IAAIA,OAAO,CAACI,gBAAvC;AACA,QAAI,CAACD,WAAL,EAAkB,OAJb,CAML;;AACA,UAAME,aAAa,GAAGC,KAAK,IAAIL,YAAY,CAACC,OAAb,CAAqBI,KAArB,CAA/B,CAPK,CASL;;;AACAN,IAAAA,OAAO,CAACI,gBAAR,CAAyBN,SAAzB,EAAoCO,aAApC,EAVK,CAYL;;AACA,WAAO,MAAM;AACZL,MAAAA,OAAO,CAACO,mBAAR,CAA4BT,SAA5B,EAAuCO,aAAvC;AACA,KAFD;AAGA,GAjBO,EAkBR,CAACP,SAAD,EAAYE,OAAZ,CAlBQ,CAkBa;AAlBb,GAAT;AAoBA;;AAED,eAAeH,gBAAf","sourcesContent":["import { useEffect,useRef } from 'react';\n\nconst win = typeof window !== 'undefined'?window:null\n\nfunction useEventListener(eventName, handler, element = win) {\n\t// Create a ref that stores handler\n\tconst savedHandler = useRef();\n\n\t// Update ref.current value if handler changes.\n\t// This allows our effect below to always get latest handler ...\n\t// ... without us needing to pass it in effect deps array ...\n\t// ... and potentially cause effect to re-run every render.\n\tuseEffect(() => {\n\t\tsavedHandler.current = handler;\n\t}, [handler]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\t// Make sure element supports addEventListener\n\t\t\t// On\n\t\t\tconst isSupported = element && element.addEventListener;\n\t\t\tif (!isSupported) return;\n\n\t\t\t// Create event listener that calls handler function stored in ref\n\t\t\tconst eventListener = event => savedHandler.current(event);\n\n\t\t\t// Add event listener\n\t\t\telement.addEventListener(eventName, eventListener);\n\n\t\t\t// Remove event listener on cleanup\n\t\t\treturn () => {\n\t\t\t\telement.removeEventListener(eventName, eventListener);\n\t\t\t};\n\t\t},\n\t\t[eventName, element] // Re-run if eventName or element changes\n\t);\n}\n\nexport default useEventListener;\n"]},"metadata":{},"sourceType":"module"}